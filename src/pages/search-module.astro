---
// P√°gina: M√≥dulo de B√∫squeda Interna/Externa de Talento
import DashboardLayout from '../layouts/DashboardLayout.astro';
---

<DashboardLayout title="B√∫squeda de Talento - HexaLink ERP">
  <style>
    .search-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    .page-title {
      color: #f1f5f9;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .page-subtitle {
      color: #cbd5e1;
      margin-bottom: 2rem;
    }

    .search-tabs {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      border-bottom: 2px solid #334155;
      padding-bottom: 1rem;
    }

    .tab-btn {
      padding: 0.75rem 1.5rem;
      background: none;
      border: none;
      border-bottom: 3px solid transparent;
      color: #cbd5e1;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .tab-btn:hover {
      color: #0d9488;
    }

    .tab-btn.active {
      color: #0d9488;
      border-bottom-color: #0d9488;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .search-form {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .search-title {
      color: #f1f5f9;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      color: #cbd5e1;
      font-weight: 600;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 0.75rem;
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      color: #f1f5f9;
      font-size: 0.95rem;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #0d9488;
    }

    .form-actions {
      display: flex;
      gap: 1rem;
      justify-content: flex-end;
    }

    .btn-primary {
      background: #0d9488;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-primary:hover {
      background: #0e7490;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: #334155;
      color: #cbd5e1;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-secondary:hover {
      background: #475569;
    }

    .results-section {
      margin-top: 2rem;
    }

    .results-title {
      color: #f1f5f9;
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1.5rem;
    }

    .result-card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 1.5rem;
      transition: all 0.3s;
    }

    .result-card:hover {
      border-color: #0d9488;
      background: #263549;
    }

    .result-header {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .result-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #334155;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      flex-shrink: 0;
    }

    .result-info h4 {
      color: #f1f5f9;
      margin: 0 0 0.25rem 0;
    }

    .result-info p {
      color: #cbd5e1;
      margin: 0;
      font-size: 0.85rem;
    }

    .result-details {
      margin: 1rem 0;
      border-top: 1px solid #334155;
      padding-top: 1rem;
    }

    .detail-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }

    .detail-item label {
      color: #94a3b8;
    }

    .detail-item value {
      color: #f1f5f9;
      font-weight: 600;
    }

    .result-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .btn-small {
      flex: 1;
      padding: 0.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.85rem;
      font-weight: 600;
      transition: all 0.3s;
    }

    .btn-small.primary {
      background: #0d9488;
      color: white;
    }

    .btn-small.primary:hover {
      background: #0e7490;
    }

    .btn-small.secondary {
      background: #334155;
      color: #cbd5e1;
    }

    .btn-small.secondary:hover {
      background: #475569;
    }

    .match-badge {
      display: inline-block;
      background: #22c55e;
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 50px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    @media (max-width: 768px) {
      .search-tabs {
        flex-direction: column;
        border-bottom: none;
        padding-bottom: 0;
      }

      .tab-btn {
        border-bottom: none;
        border-left: 3px solid transparent;
        padding-left: 0;
      }

      .tab-btn.active {
        border-left-color: #0d9488;
        border-bottom: none;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .results-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>

  <div class="search-container">
    <h1 class="page-title">üîç B√∫squeda de Talento</h1>
    <p class="page-subtitle">Encuentra y conecta con talento interno y externo para tus vacantes</p>

    <!-- Tabs -->
    <div class="search-tabs">
      <button class="tab-btn active" data-tab="internal">B√∫squeda Interna</button>
      <button class="tab-btn" data-tab="external">B√∫squeda Externa</button>
      <button class="tab-btn" data-tab="referrals">Referrals</button>
    </div>

    <!-- Internal Search Tab -->
    <div class="tab-content active" id="internal">
      <div class="search-form">
        <h3 class="search-title">Buscar Empleados Internos</h3>
        <form id="internalForm">
          <div class="form-row">
            <div class="form-group">
              <label>Competencias Requeridas</label>
              <input type="text" placeholder="ej: TypeScript, React, Node.js">
            </div>
            <div class="form-group">
              <label>Departamento</label>
              <select>
                <option value="">Todos</option>
                <option value="engineering">Engineering</option>
                <option value="sales">Sales</option>
                <option value="marketing">Marketing</option>
              </select>
            </div>
            <div class="form-group">
              <label>Nivel de Experiencia</label>
              <select>
                <option value="">Todos</option>
                <option value="junior">Junior</option>
                <option value="mid">Mid-Level</option>
                <option value="senior">Senior</option>
                <option value="lead">Lead</option>
              </select>
            </div>
          </div>

          <div class="form-actions">
            <button type="reset" class="btn-secondary">Limpiar</button>
            <button type="submit" class="btn-primary">Buscar Empleados</button>
          </div>
        </form>
      </div>

      <!-- Results -->
      <div class="results-section">
        <h3 class="results-title">Resultados (3 coincidencias)</h3>
        <div class="results-grid">
          <div class="result-card">
            <div class="result-header">
              <div class="result-avatar">üë§</div>
              <div class="result-info">
                <h4>Carlos Rodr√≠guez</h4>
                <p>Frontend Developer | Engineering</p>
                <span class="match-badge">92% Coincidencia</span>
              </div>
            </div>
            <div class="result-details">
              <div class="detail-item">
                <label>Competencias:</label>
                <value>React, TypeScript, CSS</value>
              </div>
              <div class="detail-item">
                <label>Experiencia:</label>
                <value>5 a√±os</value>
              </div>
              <div class="detail-item">
                <label>Disponibilidad:</label>
                <value>Inmediata</value>
              </div>
            </div>
            <div class="result-actions">
              <button class="btn-small primary">Contactar</button>
              <button class="btn-small secondary">Ver Perfil</button>
            </div>
          </div>

          <div class="result-card">
            <div class="result-header">
              <div class="result-avatar">üë§</div>
              <div class="result-info">
                <h4>Mar√≠a L√≥pez</h4>
                <p>Backend Developer | Engineering</p>
                <span class="match-badge">85% Coincidencia</span>
              </div>
            </div>
            <div class="result-details">
              <div class="detail-item">
                <label>Competencias:</label>
                <value>Node.js, TypeScript, PostgreSQL</value>
              </div>
              <div class="detail-item">
                <label>Experiencia:</label>
                <value>7 a√±os</value>
              </div>
              <div class="detail-item">
                <label>Disponibilidad:</label>
                <value>2 semanas</value>
              </div>
            </div>
            <div class="result-actions">
              <button class="btn-small primary">Contactar</button>
              <button class="btn-small secondary">Ver Perfil</button>
            </div>
          </div>

          <div class="result-card">
            <div class="result-header">
              <div class="result-avatar">üë§</div>
              <div class="result-info">
                <h4>Juan Garc√≠a</h4>
                <p>Senior Developer | Engineering</p>
                <span class="match-badge">78% Coincidencia</span>
              </div>
            </div>
            <div class="result-details">
              <div class="detail-item">
                <label>Competencias:</label>
                <value>React, Node.js, AWS</value>
              </div>
              <div class="detail-item">
                <label>Experiencia:</label>
                <value>10 a√±os</value>
              </div>
              <div class="detail-item">
                <label>Disponibilidad:</label>
                <value>1 mes</value>
              </div>
            </div>
            <div class="result-actions">
              <button class="btn-small primary">Contactar</button>
              <button class="btn-small secondary">Ver Perfil</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- External Search Tab -->
    <div class="tab-content" id="external">
      <div class="search-form">
        <h3 class="search-title">Buscar Candidatos Externos</h3>
        <form id="externalForm">
          <div class="form-row">
            <div class="form-group">
              <label>Competencias Requeridas</label>
              <input type="text" placeholder="ej: Python, Machine Learning">
            </div>
            <div class="form-group">
              <label>Ubicaci√≥n</label>
              <input type="text" placeholder="ej: Colombia, Remoto">
            </div>
            <div class="form-group">
              <label>Rango Salarial (COP)</label>
              <input type="text" placeholder="ej: 3,000,000 - 5,000,000">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Descripci√≥n del Rol (opcional)</label>
              <textarea placeholder="Describe el puesto y responsabilidades..." rows="4"></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="reset" class="btn-secondary">Limpiar</button>
            <button type="submit" class="btn-primary">Buscar en Plataformas</button>
          </div>
        </form>
      </div>

      <div class="results-section">
        <h3 class="results-title">Se enviar√°n a LinkedIn Jobs y plataformas externas</h3>
        <p style="color: #cbd5e1; margin-top: 1rem;">
          ‚ÑπÔ∏è La b√∫squeda externa se sincronizar√° con LinkedIn Jobs, Indeed, y otras plataformas de empleo.
        </p>
      </div>
    </div>

    <!-- Referrals Tab -->
    <div class="tab-content" id="referrals">
      <div class="search-form">
        <h3 class="search-title">Programa de Referidos</h3>
        <p style="color: #cbd5e1; margin-bottom: 1.5rem;">
          Refiere candidatos y gana recompensas cuando sean contratados
        </p>
        <form id="referralsForm">
          <div class="form-row">
            <div class="form-group">
              <label>Nombre del Candidato</label>
              <input type="text" placeholder="Nombre completo">
            </div>
            <div class="form-group">
              <label>Email del Candidato</label>
              <input type="email" placeholder="email@example.com">
            </div>
            <div class="form-group">
              <label>Posici√≥n</label>
              <select>
                <option value="">Selecciona una vacante</option>
                <option value="backend">Backend Developer .NET</option>
                <option value="frontend">Frontend Developer Next.js</option>
                <option value="devops">Senior DevOps Engineer</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Mensaje Personado (opcional)</label>
              <textarea placeholder="¬øPor qu√© crees que es un buen candidato?" rows="4"></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="reset" class="btn-secondary">Limpiar</button>
            <button type="submit" class="btn-primary">Enviar Referencia</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Tab switching
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const tabId = (btn as HTMLElement).dataset.tab;
        
        tabBtns.forEach(b => b.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        btn.classList.add('active');
        document.getElementById(tabId!)?.classList.add('active');
      });
    });

    // Form submissions
    const forms = document.querySelectorAll('form');
    forms.forEach(form => {
      form.addEventListener('submit', (e: SubmitEvent) => {
        e.preventDefault();
        alert('‚úÖ B√∫squeda enviada (integraci√≥n con backend requerida)');
      });
    });
  </script>
</DashboardLayout>
